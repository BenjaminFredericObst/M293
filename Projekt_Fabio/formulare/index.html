<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortnite Fanpage</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .highlight {
            background-color: yellow;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <article class="logo"> 
                <div class="Logo"><a href="index.html" title="Menu"><img src="../images/logo.jpg" alt="Fortnite Logo"></a></div>
            </article>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Suche...">
                <button id="searchButton" onclick="search()">Suchen</button>
            </div>
        </nav>
    </header>
    <main>
        <section>
            <article class="titelbild">
                <img src="../images/home.jpg" alt="Fortnite Chapter 4 Titelbild" />
            </article>
            <div class="sub-articles">
                <article>
                    <h2><a href="events.html">Events</a></h2>
                    <p>Fortnite Chapter 4 hat auch bei den Events abgeliefert. Live-Events und zeitlich begrenzte 
                        Modi sorgen für Abwechslung. Das <strong>"Fracture"-Event</strong> war ein interaktives 
                        Spektakel, bei dem die neue Karte enthüllt wurde. Kollaborationen mit <strong>Marvel</strong> 
                        oder <strong>Star Wars</strong> bringen spannende Herausforderungen und Belohnungen.</p>
                </article>
                <article>
                    <h2><a href="battlepass.html">Battle Pass</a></h2>
                    <p>Der Battle Pass bietet ikonische Skins wie <strong>Doom Slayer</strong> und <strong>Geralt von 
                        Riva</strong>. Neben Outfits gibt es zahlreiche Emotes und kosmetische Items, die du durch 
                        Levelaufstieg freischalten kannst.</p>
                </article>
                <article>
                    <h2><a href="map.html">Map</a></h2>
                    <p>Chapter 4 bringt eine überarbeitete Karte mit futuristischen Städten, mystischen Wäldern und Bergen. 
                        POIs wie <strong>"Brutal Bastion"</strong> und <strong>"The Citadel"</strong> laden zum Erkunden ein 
                        und bringen frischen Wind ins Gameplay.</p>
                </article>
            </div>
        </section>
    </main>

    <script>
        // Funktion zum Hervorheben von Übereinstimmungen
        function highlightMatches(searchText) {
            if (!searchText) return;  // Verhindern, dass bei leerem Text gesucht wird

            const regex = new RegExp(`(${searchText})`, 'gi');  // Regex für die Suche (Groß- und Kleinschreibung)
            const content = document.body;

            // Funktion zum Ersetzen von Text in Textknoten
            function walk(node) {
                if (node.nodeType === 3) { // Wenn es sich um einen Textknoten handelt
                    const match = node.nodeValue.match(regex);
                    if (match) {
                        const span = document.createElement('span');
                        span.innerHTML = node.nodeValue.replace(regex, `<span class="highlight">$1</span>`);
                        node.parentNode.replaceChild(span, node);
                    }
                } else if (node.nodeType === 1 && node.nodeName !== 'SCRIPT' && node.nodeName !== 'STYLE') {
                    // Rekursiv in allen Elementen, außer <script> und <style>
                    Array.from(node.childNodes).forEach(walk);
                }
            }

            walk(content); // Die Funktion auf den gesamten Body anwenden
        }

        // Suche nach dem Text aus dem Input-Feld
        function search() {
            const searchText = document.getElementById('searchInput').value;
            highlightMatches(searchText);
        }
    </script>
</body>
</html>
